/*******************************************************************************
* Description  : 系统参数
* Author       : 2018/4/12 星期四, by redmorningcn
*******************************************************************************/


#ifndef	APP_H
#define	APP_H

#ifdef __cplusplus
extern "C" {
#endif

    
/*******************************************************************************
 * INCLUDES
 */
#include <global.h>
#include <app_wave.h>
#include <includes.h>


    

/*******************************************************************************
 * CONSTANTS
 */

/*******************************************************************************
 * MACROS
 */

/*******************************************************************************
 * TYPEDEFS
 */
/*******************************************************************************
* Description  : 系统运行参数
* Author       : 2018/3/14 星期三, by redmorningcn
*******************************************************************************/
typedef struct  
{
    uint32  id;             //产品id       0
    uint32  addr;           //通讯地址     4
    uint8   buf[64];        //预留         8
    uint32  cpu_freq;       //cpu频率      72
    uint32  time;           //系统全局时间(系统时钟(1/72Mhz) *65536)=约1ms   76
}strSysPara;    
    
typedef union _Unnctrl_ {
    struct{
        strSysPara  sys;            //公共参数
        strCoupleChannel    ch;     //产品特有参数
        MODBUS_CH   	    *pch;   //modbus控制块

    };
    uint16   buf[512];
        
}Unnctrl;

extern  Unnctrl sCtrl;      


/*******************************************************************************
 * TYPEDEFS
 */

/***********************************************
* 描述： 软定时器外部引用声明
*/


/***********************************************
* 描述： 软定时器回调函数外部引用声明
*/


/***********************************************
* 描述： 看门狗标志组外部引用声明
*/


/*******************************************************************************
 * LOCAL VARIABLES
 */

/*******************************************************************************
 * GLOBAL VARIABLES
 */


/*******************************************************************************
 * LOCAL FUNCTIONS
 */

/*******************************************************************************
 * GLOBAL FUNCTIONS
 */
/******************************************************
* 描述： 任务创建申明，每个单独的创建任务请在此处声明
*/


/*******************************************************************************
 * EXTERN VARIABLES
 */

/*******************************************************************************
 * EXTERN FUNCTIONS
 */

/*******************************************************************************
 *              end of file                                                    *
 *******************************************************************************/
#ifdef __cplusplus
}
#endif
#endif
